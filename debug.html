// Update the part of debug.html that checks configuration
// Inside the script at the bottom of debug.html, replace the config checking code with:

// Check environment variables (via config)
const envVarsStatus = document.getElementById('env-vars-status');
const configDisplay = document.getElementById('config-display');
const apiLibsStatus = document.getElementById('api-libs-status');

// Check if CONFIG exists
if (typeof CONFIG !== 'undefined') {
    // Try to access the credentials - will use getters if available
    try {
        const clientIdOk = CONFIG.CLIENT_ID && CONFIG.CLIENT_ID !== 'YOUR_GOOGLE_CLIENT_ID';
        const apiKeyOk = CONFIG.API_KEY && CONFIG.API_KEY !== 'YOUR_GOOGLE_API_KEY';
        
        let statusHtml = '';
        statusHtml += `<p>CLIENT_ID: <span class="${clientIdOk ? 'status-ok' : 'status-error'}">${clientIdOk ? 'Configured' : 'Missing or default'}</span></p>`;
        statusHtml += `<p>API_KEY: <span class="${apiKeyOk ? 'status-ok' : 'status-error'}">${apiKeyOk ? 'Configured' : 'Missing or default'}</span></p>`;
        
        envVarsStatus.innerHTML = statusHtml;
        
        // Display current config (masked for security)
        let configHtml = '<div class="code-block">';
        configHtml += `CLIENT_ID: ${clientIdOk ? '✓ Set (first character: ' + CONFIG.CLIENT_ID.charAt(0) + '... last character: ' + CONFIG.CLIENT_ID.charAt(CONFIG.CLIENT_ID.length-1) + ')' : '✗ Not set properly'}\n`;
        configHtml += `API_KEY: ${apiKeyOk ? '✓ Set (first character: ' + CONFIG.API_KEY.charAt(0) + '... last character: ' + CONFIG.API_KEY.charAt(CONFIG.API_KEY.length-1) + ')' : '✗ Not set properly'}\n`;
        configHtml += `SCOPES: ${CONFIG.SCOPES}\n`;
        configHtml += `DISCOVERY_DOC: ${CONFIG.DISCOVERY_DOC}`;
        
        // Display build version if available
        if (CONFIG.VERSION) {
            configHtml += `\nVERSION: ${CONFIG.VERSION}`;
        }
        
        configHtml += '</div>';
        
        configDisplay.innerHTML = configHtml;
    } catch (error) {
        envVarsStatus.innerHTML = `<p class="status-error">Error accessing CONFIG properties: ${error.message}</p>`;
        configDisplay.innerHTML = '<p class="status-error">Cannot display configuration - error accessing properties</p>';
    }
} else {
    envVarsStatus.innerHTML = '<p class="status-error">CONFIG object not found. Check if config.js is loaded correctly.</p>';
    configDisplay.innerHTML = '<p class="status-error">Cannot display configuration - CONFIG not available</p>';
}
